dumptransport: true
http_timeout: 20
handles:
- name: first_test
  rps: 50
  attack_time_sec: 60
  ramp_up_sec: 30
  ramp_up_strategy: exp2
  max_attackers: 100
  verbose: true
  do_timeout_sec: 40
  store_data: false
  recycle_data: true
#  stop_if:
#    type: prometheus
#    query: scrape_duration_seconds{job="node_exporter_metrics"} <bool 200
#    interval: 1
- name: second_test
  rps: 10000
  attack_time_sec: 60
  ramp_up_sec: 30
  ramp_up_strategy: linear
  max_attackers: 3000
  verbose: true
  do_timeout_sec: 40
  store_data: false
  recycle_data: true
  stop_if:
    type: prometheus
    query: prom_query
    interval: 1
- name: third_test
  rps: 1000
  attack_time_sec: 60
  ramp_up_sec: 30
  ramp_up_strategy: exp2
  max_attackers: 100
  verbose: true
  do_timeout_sec: 40
  store_data: false
  recycle_data: true
  stop_if:
    type: prometheus
    query: prom_query
    interval: 1
- name: fourth_test
  rps: 1
  attack_time_sec: 60
  ramp_up_sec: 30
  ramp_up_strategy: linear
  max_attackers: 200
  verbose: true
  do_timeout_sec: 40
  store_data: false
  recycle_data: true
  stop_if:
    type: prometheus
    query: prom_query
    interval: 1
execution_mode: sequence
